(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),i=s.n(a),c=s(4),r=s.n(c),u=(s(10),s(2)),d=(s(11),function(e){var t="y"===e.id?"Player 1":"Player 2",s=e.status.map((function(t,s){var a=t.isSunk().toString(),i=Object.values(t.coordinates).map((function(t,s){return Object(n.jsx)("div",{"data-hit":t.toString()},t.toString()+s+e.id)}));return Object(n.jsx)("div",{className:"ship","data-sunk":a,"data-ship":t.type,children:Object(n.jsxs)("div",{className:"status",children:[Object(n.jsx)("h1",{className:"type",children:t.type}),Object(n.jsx)("div",{className:"hits",children:i})]})},t.toString()+s+e.id)}));return Object(n.jsxs)("div",{className:"Score",id:e.id,children:[Object(n.jsx)("label",{children:t}),s]})}),o=(s(12),function(e){var t=[["Carrier",5],["Battleship",4],["Cruiser",3],["Submarine",3],["Destroyer",2]],s=Object(a.useState)(["A1","B1","C1","D1","E1","F1","A2","B2","C2","D2","E2","F2","A3","B3","C3","D3","E3","F3","A4","B4","C4","D4","E4","F4","A5","B5","C5","D5","E5","F5","A6","B6","C6","D6","E6","F6"]),i=Object(u.a)(s,2),c=i[0],r=i[1],o=Object(a.useState)([]),l=Object(u.a)(o,2),h=l[0],j=l[1],f=function(){var e=["A1","B1","C1","D1","E1","F1","A2","B2","C2","D2","E2","F2","A3","B3","C3","D3","E3","F3","A4","B4","C4","D4","E4","F4","A5","B5","C5","D5","E5","F5","A6","B6","C6","D6","E6","F6"];!function(e){for(var t=e.length-1;t>0;t--){var s=Math.floor(Math.random()*(t+1)),n=[e[s],e[t]];e[t]=n[0],e[s]=n[1]}}(t);var s=[];t.forEach((function(n){var a=n[0],i=n[1],c=function(e,t,s){return{type:e,coordinates:t,hit:function(e){this.coordinates[e]=!0},isSunk:function(){return Object.values(this.coordinates).every((function(e){return!0===e}))}}}(a,function(s,n){var a=Math.floor(Math.random()*Math.floor(2)),i=[];if(0===a){var c,r=[];for(c=0;c<=30;c+=6)r.push(e.slice(c,c+6));var u=6-s,d=null;r.forEach((function(e){for(var n=0;n<=u;n++)(d=e.slice(n,n+s)).includes(t[0][0])||d.includes(t[1][0])||d.includes(t[2][0])||d.includes(t[3][0])||d.includes(t[4][0])||i.push(d)}))}else{for(var o=[],l=0;l<6;l++){var h=[e[l],e[l+6],e[l+12],e[l+18],e[l+24],e[l+30]];o.push(h)}var j=6-s,f=null;o.forEach((function(e){for(var n=0;n<=j;n++)(f=e.slice(n,n+s)).includes(t[0][0])||f.includes(t[1][0])||f.includes(t[2][0])||f.includes(t[3][0])||f.includes(t[4][0])||i.push(f)}))}for(var m=i.shift(),b=function(t){var s=e.findIndex((function(e){return e===m[t]}));e[s]=n},v=0;v<m.length;v++)b(v);var g={};return m.forEach((function(e){g[e]=!1})),console.log(g),g}(i,a));s.push(c)})),j(s)},m=function(t){var s,n=c.slice(0);h.forEach((function(n){Object.keys(n.coordinates).includes(t)&&(n.hit(t),s=!0,n.isSunk()?e.action({type:"sunk",payload:n.type}):e.action({type:"hit",payload:n.type}))}));var a=n.findIndex((function(e){return e===t}));s?n[a]="hit":(n[a]="miss",e.action({type:"miss",payload:t})),r(n),window.setTimeout(e.action,3e3,{type:"turnOver"})},b=c.map((function(e,t){return Object(n.jsx)("button",{className:t,"data-coordinate":e,children:e},e.toString()+t)}));return Object(a.useEffect)((function(){f()}),[]),Object(a.useEffect)((function(){!function(){var t=[];h.forEach((function(e){!0===e.isSunk()&&t.push(!0)})),5===t.length&&e.action({type:"gameover"})}()})),e.isVisible?Object(n.jsxs)("div",{className:"gameboard",children:[Object(n.jsx)("div",{className:"grid active",onClick:function(t){t.preventDefault();var s=t.currentTarget,n=t.target;s.classList.add("animate");var a=n.dataset.coordinate;e.action({type:"attack",payload:a}),window.setTimeout(m,1e3,a)},children:b}),Object(n.jsx)(d,{status:h,id:e.id})]}):Object(n.jsxs)("div",{className:"gameboard",children:[Object(n.jsx)("div",{className:"grid hidden",children:b}),Object(n.jsx)(d,{status:h,id:e.id})]})}),l=(s(13),s.p+"static/media/hit.a9ac7f37.gif"),h=s.p+"static/media/waves.c57afa7a.gif",j=s.p+"static/media/sunk.d97c576e.gif",f=function(e){return e.message.includes("HIT")?Object(n.jsxs)("div",{className:"Message",children:[Object(n.jsx)("h1",{children:e.message}),Object(n.jsx)("img",{src:l,alt:"hit"})]}):e.message.includes("MISS")?Object(n.jsxs)("div",{className:"Message",children:[Object(n.jsx)("h1",{children:e.message}),Object(n.jsx)("img",{src:h,alt:"waves"})]}):e.message.includes("SUNK")?Object(n.jsxs)("div",{className:"Message",children:[Object(n.jsx)("h1",{children:e.message}),Object(n.jsx)("img",{src:j,alt:"sunk"})]}):Object(n.jsx)("div",{className:"Message",children:Object(n.jsx)("h1",{children:e.message})})},m=(s(14),function(e){return e.isUp?Object(n.jsxs)("div",{className:"Shield",children:[Object(n.jsx)("h1",{children:e.message}),Object(n.jsx)("button",{onClick:function(){e.action({type:"shieldDismissed"})},children:"READY"})]}):null});s(15);var b=function(){var e={message:"Let's play Battleship!",turn:1,shielded:!1};function t(e){return e}var s=Object(a.useReducer)((function(t,s){switch(s.type){case"turnOver":var n=1===t.turn?2:1;return{message:"Ready Player "+n+"?",turn:n,shielded:!0};case"shieldDismissed":return{message:"Awaiting your command...",turn:t.turn,shielded:!1};case"attack":return{message:"Launching attack on "+s.payload+" ...",turn:t.turn,shielded:!1};case"hit":return{message:s.payload+" HIT!",turn:t.turn,shielded:!1};case"miss":return{message:"Attack was a MISS!",turn:t.turn,shielded:!1};case"sunk":return{message:s.payload+" SUNK!",turn:t.turn,shielded:!1};case"gameover":return{message:"Game Over",turn:t.turn,shielded:!1};case"playAgain":return e;default:throw new Error}}),e,t),i=Object(u.a)(s,2),c=i[0],r=i[1],d=1===c.turn;return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(m,{isUp:c.shielded,message:c.message,action:r}),Object(n.jsx)(f,{message:c.message}),Object(n.jsx)(o,{isVisible:d,id:"x",action:r}),Object(n.jsx)(o,{isVisible:!d,id:"y",action:r})]})};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(b,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.5eb9fba8.chunk.js.map